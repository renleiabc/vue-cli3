webpackJsonp([13],{Pkuy:function(n,e,t){(n.exports=t("UTlt")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},mDZD:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("3cXf"),s=t.n(r),a=t("v46e"),i={data:function(){var n=this,e=function(e,t,r){var s=e.field,a=n.limitResource;if(!t)return r(new Error("输入不能为空"));if(/^[1-9]\d*$/.test(t))switch(s){case"cpu":t>a.limit_cpu?r(new Error("最大值不得超过"+a.limit_cpu)):r();break;case"gpu":t>a.limit_gpu?r(new Error("最大值不得超过"+a.limit_gpu)):r();break;case"memory":t>a.limit_memory?r(new Error("最大值不得超过"+a.limit_memory)):r()}else r(new Error("请输入正整数"))};return{index:0,textarea:"",setingDisabled:!0,loading:!0,userTable:[],addMember:!1,memberName:"",obj:"",dasda:"dasda",isCount:!1,per:0,total:0,labelWidth:"100px",currentPage:1,ruleForm:{name:"",describe:""},rules:{name:[{validator:function(n,e,t){""===e?t(new Error("请输入项目名称")):Object(a.d)(e)?t():t(new Error("请输入正确的字符"))},trigger:"blur",required:!0}],describe:[{required:!1,message:"请输入项目描述",trigger:"blur"},{max:200,message:"输入长度不得超过200 个字符",trigger:"blur"}]},limitCPU:"",limitGPU:"",limitMember:"",ruleMember:{user_id:"",cpu:"",gpu:"",memory:""},rulesCheck:{user_id:[{required:!0,message:"用户不能为空",trigger:"blur"}],cpu:[{required:!0,validator:e,trigger:"blur"}],memory:[{required:!0,validator:e,trigger:"blur"}],gpu:[{required:!0,validator:e,trigger:"blur"}]}}},created:function(){this.index=this.$route.params.idSet;var n=this.$route.query.idSet;this.obj={project_id:n};var e=this.obj;this.setProjectData(e);var t={project_id:n,page:0};this.getProjectparticipant(t)},watch:{STORE_THEME_LANG:{handler:function(n,e){"zh"===this.STORE_THEME_LANG&&(this.labelWidth="100px"),"en"===this.STORE_THEME_LANG&&(this.labelWidth="200px")}}},mounted:function(){"zh"===this.STORE_THEME_LANG&&(this.labelWidth="100px"),"en"===this.STORE_THEME_LANG&&(this.labelWidth="200px")},methods:{setProjectData:function(n){var e=this;this.$get("/project/projectsetting",n).then(function(n){if(200===n.code){var t=n.data.project_basic;e.ruleForm.name=t.name,e.ruleForm.describe=t.describe}else e.$message({message:n.message,type:"error"})})},getProjectparticipant:function(n){var e=this;this.$get("/project/projectparticipant",n).then(function(n){if(200===n.code){e.loading=!1,e.userTable=n.data.member_manage;var t=n.data.total_count,r=n.data.per_page;t<=r?e.isCount=!1:(e.isCount=!0,e.per=r,e.total=t)}else e.$message({message:n.message,type:"error"})})},projectCurrentChange:function(n){var e={};e.project_id=this.obj.project_id,e.page=n,this.getProjectparticipant(e)},devDelete:function(n,e){var t=this;this.$confirm(this.$t("views.dialogText.deleteConfirm"),this.$t("views.dialogText.tip"),{confirmButtonText:this.$t("views.button.sure"),cancelButtonText:this.$t("views.button.cancel"),type:"warning",beforeClose:function(n,r,a){if("confirm"===n){r.confirmButtonLoading=!0;var i={id:e},o=t.obj;t.$post("/project/participantdelete",i).then(function(n){console.log(s()(n)),200===n.code?(t.$message({message:n.message,type:"success"}),t.getProjectparticipant(o)):t.$message({message:n.message,type:"error"}),r.confirmButtonLoading=!1,a()})}else a()}}).catch(function(){})},handleClose:function(n){this.$refs.addingMembers.resetFields(),n()},addMemberCancel:function(n){console.log(n),this.$refs[n].resetFields(),this.addMember=!1},changeDialogMember:function(n){var e=this;console.log(this.ruleMember),this.$refs[n].validate(function(t){if(console.log(t),!t)return console.log("error submit!!"),!1;var r=e.ruleMember,a=e.obj;e.loading=!0,r.project_id=e.obj.project_id,e.$post("/project/participantadd",r).then(function(t){console.log(s()(t)),200===t.code?(e.addMember=!1,e.$message({message:t.message,type:"success"}),e.getProjectparticipant(a),e.memberName="",e.$refs[n].resetFields()):e.$message({message:t.message,type:"error"}),e.loading=!1})})},addClick:function(){var n=this.obj;this.$store.dispatch("getShowuser",n),this.addMember=!0},settingClick:function(n){var e=this;this.$refs[n].validate(function(n){if(!n)return console.log("error submit!!"),!1;var t=e.ruleForm;console.log(e.ruleForm),t.project_id=e.obj.project_id,e.$post("/project/projectsetting",t).then(function(n){200===n.code?(e.$message({message:n.message,type:"success"}),e.currentPage=1):e.$message({message:n.message,type:"error"})})})},cancelBtn:function(n){this.$refs[n].resetFields()}},components:{},computed:{memberManage:function(){return this.$store.getters.postMemberManage},limitResource:function(){return this.$store.getters.postlimitResource}}},o={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"views-personal"},[t("div",{staticClass:"views-header-inf"},[t("span",[n._v(n._s(n.$t("views.modelPrediction.basicInf")))])]),n._v(" "),t("div",{staticClass:"views-develop-inf"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:n.ruleForm,rules:n.rules,"label-width":n.labelWidth}},[t("div",{staticClass:"views-task-input"},[t("el-form-item",{attrs:{label:n.$t("views.projectContent.projectName"),prop:"name"}},[t("el-input",{attrs:{placeholder:n.$t("views.projectContent.projectName"),maxlength:"30",clearable:""},model:{value:n.ruleForm.name,callback:function(e){n.$set(n.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),n._v(" "),t("div",{staticClass:"views-task-image"},[t("el-form-item",{attrs:{label:n.$t("views.projectContent.description"),prop:"describe"}},[t("el-input",{attrs:{type:"textarea",rows:6,placeholder:n.$t("views.projectContent.enterContent"),maxlength:"200",clearable:""},model:{value:n.ruleForm.describe,callback:function(e){n.$set(n.ruleForm,"describe",e)},expression:"ruleForm.describe"}})],1)],1)]),n._v(" "),t("div",{staticClass:"views-add-box"},[t("div",{staticClass:"views-span-empty"},[t("div",{staticClass:"views-add-btn"},[t("el-button",{staticClass:"view-btn-big",attrs:{type:"primary"},on:{click:function(e){return n.settingClick("ruleForm")}}},[n._v("\n            "+n._s(n.$t("views.button.save"))+"\n          ")])],1)])])],1),n._v(" "),t("div",{staticClass:"views-header-inf"},[t("span",[n._v(n._s(n.$t("views.projectContent.management")))])]),n._v(" "),t("div",{staticClass:"views-develop-inf"},[t("div",{staticClass:"views-develop-mount"},[t("el-button",{staticClass:"view-btn-medium",attrs:{type:"primary"},on:{click:n.addClick}},[n._v(n._s(n.$t("views.projectContent.append")))])],1),n._v(" "),t("div",{staticClass:"views-table-content"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tab-content",staticStyle:{width:"100%"},attrs:{data:n.userTable,"tooltip-effect":"dark",border:""}},[t("el-table-column",{attrs:{label:n.$t("views.projectContent.user"),"header-align":"center",align:"center","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.user.username))])]}}])}),n._v(" "),t("el-table-column",{attrs:{label:"姓名","header-align":"center",align:"center","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",[n._v(n._s(e.row.userProfile.name))])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"created_at",label:n.$t("views.projectContent.addTime"),"show-overflow-tooltip":"","header-align":"center",align:"center"}}),n._v(" "),t("el-table-column",{attrs:{label:n.$t("views.projectContent.operation"),"header-align":"center",align:"center",width:"200"},scopedSlots:n._u([{key:"default",fn:function(e){return[t("span",{staticClass:"views-table-span views-table-margin del ",attrs:{size:"mini",type:"danger"},on:{click:function(t){return n.devDelete(e.$index,e.row.id)}}},[n._v(n._s(n.$t("views.projectContent.delete")))])]}}])}),n._v(" "),t("div",{attrs:{slot:"empty"},slot:"empty"},[t("div",{staticClass:"views-empty"},[t("span",{staticClass:"views-empty-table"}),n._v(" "),t("p",{staticClass:"views-empty-text"},[n._v(n._s(n.$t("views.table.noData")))])])])],1),n._v(" "),t("div",{staticClass:"views-page"},[t("el-pagination",{directives:[{name:"show",rawName:"v-show",value:n.isCount,expression:"isCount"}],attrs:{"page-size":n.per,layout:"prev, pager, next",total:n.total,"current-page":n.currentPage},on:{"current-change":n.projectCurrentChange,"update:currentPage":function(e){n.currentPage=e},"update:current-page":function(e){n.currentPage=e}}})],1)],1)]),n._v(" "),t("el-dialog",{staticClass:"small",attrs:{title:n.$t("views.projectContent.members"),visible:n.addMember,width:"30%","before-close":n.handleClose,top:"30vh","custom-class":"views-dialog"},on:{"update:visible":function(e){n.addMember=e}}},[t("div",{staticClass:"views-dialog-develop views-dialog-form"},[t("el-form",{ref:"addingMembers",staticClass:"demo-ruleForm",attrs:{model:n.ruleMember,rules:n.rulesCheck,"label-width":n.labelWidth}},[t("el-form-item",{attrs:{label:n.$t("views.projectContent.select"),prop:"user_id"}},[t("el-select",{attrs:{placeholder:n.$t("views.development.pleaseChoose"),filterable:"",clearable:""},model:{value:n.ruleMember.user_id,callback:function(e){n.$set(n.ruleMember,"user_id",e)},expression:"ruleMember.user_id"}},n._l(n.memberManage,function(n,e){return t("el-option",{key:e,attrs:{label:n.name,value:n.user_id,disabled:n.disabled}})}),1)],1),n._v(" "),t("el-form-item",{attrs:{label:"CPU",prop:"cpu"}},[t("el-input",{attrs:{placeholder:"请输入CPU数量",clearable:""},model:{value:n.ruleMember.cpu,callback:function(e){n.$set(n.ruleMember,"cpu",e)},expression:"ruleMember.cpu"}})],1),n._v(" "),t("el-form-item",{attrs:{label:"GPU",prop:"gpu"}},[t("el-input",{attrs:{placeholder:"请输入GPU数量",clearable:""},model:{value:n.ruleMember.gpu,callback:function(e){n.$set(n.ruleMember,"gpu",e)},expression:"ruleMember.gpu"}})],1),n._v(" "),t("el-form-item",{attrs:{label:n.$t("views.projectContent.memory"),prop:"memory"}},[t("el-input",{attrs:{placeholder:"请输入内存数量",clearable:""},model:{value:n.ruleMember.memory,callback:function(e){n.$set(n.ruleMember,"memory",e)},expression:"ruleMember.memory"}})],1)],1)],1),n._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"cancel",on:{click:function(e){return n.addMemberCancel("addingMembers")}}},[n._v("\n        "+n._s(n.$t("views.button.cancel"))+"\n      ")]),n._v(" "),t("el-button",{staticClass:"primary",attrs:{type:"primary",loading:n.loading},on:{click:function(e){return n.changeDialogMember("addingMembers")}}},[n._v("\n        "+n._s(n.$t("views.button.sure"))+"\n      ")])],1)])],1)},staticRenderFns:[]};var l=t("C7Lr")(i,o,!1,function(n){t("zHtz")},"data-v-5545004f",null);e.default=l.exports},zHtz:function(n,e,t){var r=t("Pkuy");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);t("FIqI")("026a3c7e",r,!0,{})}});