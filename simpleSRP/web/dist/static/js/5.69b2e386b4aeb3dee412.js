webpackJsonp([5],{EWQb:function(e,t,s){var a=s("3qyi"),i=a.number,o=s("Uerv"),n=i.parsePercent,r=s("Ori0");a.extendChartView({type:"liquidFill",render:function(e,t,s){var i=this.group;i.removeAll();var l=e.getData(),u=l.getItemModel(0),p=u.get("center"),m=u.get("radius"),c=s.getWidth(),d=s.getHeight(),g=Math.min(c,d),v=0,_=0,h=e.get("outline.show");h&&(v=e.get("outline.borderDistance"),_=n(e.get("outline.itemStyle.borderWidth"),g));var y,w,C,b=n(p[0],c),f=n(p[1],d),M=!1,S=e.get("shape");("container"===S?(M=!0,w=[(y=[c/2,d/2])[0]-_/2,y[1]-_/2],C=[n(v,c),n(v,d)],m=[Math.max(w[0]-C[0],0),Math.max(w[1]-C[1],0)]):(w=(y=n(m,g)/2)-_/2,C=n(v,g),m=Math.max(w-C,0)),h)&&(P().style.lineWidth=_,i.add(P()));var x=M?0:b-m,U=M?0:f-m,A=null;i.add(function(){var t=I(m);t.setStyle(e.getModel("backgroundStyle").getItemStyle()),t.style.fill=null,t.z2=5;var s=I(m);s.setStyle(e.getModel("backgroundStyle").getItemStyle()),s.style.stroke=null;var i=new a.graphic.Group;return i.add(t),i.add(s),i}());var N=this._data,F=[];function I(e,t){if(S){if(0===S.indexOf("path://")){var s=a.graphic.makePath(S.slice(7),{}),i=s.getBoundingRect(),n=i.width,r=i.height;n>r?(r*=2*e/n,n=2*e):(n*=2*e/r,r=2*e);var l=t?0:b-n/2,u=t?0:f-r/2;return s=a.graphic.makePath(S.slice(7),{},new a.graphic.BoundingRect(l,u,n,r)),t&&(s.position=[-n/2,-r/2]),s}if(M){var p=t?-e[0]:b-e[0],m=t?-e[1]:f-e[1];return o.createSymbol("rect",p,m,2*e[0],2*e[1])}p=t?-e:b-e,m=t?-e:f-e;return"pin"===S?m+=e:"arrow"===S&&(m-=e),o.createSymbol(S,p,m,2*e,2*e)}return new a.graphic.Circle({shape:{cx:t?0:b,cy:t?0:f,r:e}})}function P(){var t=I(y);return t.style.fill=null,t.setStyle(e.getModel("outline.itemStyle").getItemStyle()),t}function D(t,s,i){var o=M?m[0]:m,u=M?d/2:m,p=l.getItemModel(t),c=p.getModel("itemStyle"),g=p.get("phase"),v=n(p.get("amplitude"),2*u),_=n(p.get("waveLength"),2*o),h=u-l.get("value",t)*u*2;g=i?i.shape.phase:"auto"===g?t*Math.PI/4:g;var y=c.getItemStyle();if(!y.fill){var w=e.get("color"),C=t%w.length;y.fill=w[C]}var S=new r({shape:{waveLength:_,radius:o,radiusY:u,cx:2*o,cy:0,waterLevel:h,amplitude:v,phase:g,inverse:s},style:y,position:[b,f]});S.shape._waterLevel=h;var x=p.getModel("emphasis.itemStyle").getItemStyle();x.lineWidth=0,a.graphic.setHoverStyle(S,x);var U=I(m,!0);return U.setStyle({fill:"white"}),S.setClipPath(U),S}function j(e,t,s){var a=l.getItemModel(e),i=a.get("period"),o=a.get("direction"),n=l.get("value",e),r=a.get("phase");r=s?s.shape.phase:"auto"===r?e*Math.PI/4:r;var u=0;u="auto"===i?function(t){var s=l.count();return 0===s?t:t*(.2+(s-e)/s*.8)}(5e3):"function"==typeof i?i(n,e):i;var p=0;"right"===o||null==o?p=Math.PI:"left"===o?p=-Math.PI:"none"===o?p=0:console.error("Illegal direction value for liquid fill."),"none"!==o&&a.get("waveAnimation")&&t.animate("shape",!0).when(0,{phase:r}).when(u/2,{phase:p+r}).when(u,{phase:2*p+r}).during(function(){A&&A.dirty(!0)}).start()}l.diff(N).add(function(t){var s=D(t,!1),o=s.shape.waterLevel;s.shape.waterLevel=M?d/2:m,a.graphic.initProps(s,{shape:{waterLevel:o}},e),s.z2=2,j(t,s,null),i.add(s),l.setItemGraphicEl(t,s),F.push(s)}).update(function(t,s){for(var o=N.getItemGraphicEl(s),n=D(t,!1,o),r={},u=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],p=0;p<u.length;++p){var m=u[p];n.shape.hasOwnProperty(m)&&(r[m]=n.shape[m])}var c={},g=["fill","opacity","shadowBlur","shadowColor"];for(p=0;p<g.length;++p){m=g[p];n.style.hasOwnProperty(m)&&(c[m]=n.style[m])}M&&(r.radiusY=d/2),a.graphic.updateProps(o,{shape:r,style:c},e),o.position=n.position,o.setClipPath(n.clipPath),o.shape.inverse=n.inverse,j(t,o,o),i.add(o),l.setItemGraphicEl(t,o),F.push(o)}).remove(function(e){var t=N.getItemGraphicEl(e);i.remove(t)}).execute(),u.get("label.show")&&i.add(function(t){var s=u.getModel("label");var i={z2:10,shape:{x:x,y:U,width:2*(M?m[0]:m),height:2*(M?m[1]:m)},style:{fill:"transparent",text:function(){var t=e.getFormattedLabel(0,"normal"),s=100*l.get("value",0),a=l.getName(0)||e.name;isNaN(s)||(a=s.toFixed(0)+"%");return null==t?a:t}(),textAlign:s.get("align"),textVerticalAlign:s.get("baseline")},silent:!0},o=new a.graphic.Rect(i),n=s.get("color");a.graphic.setText(o.style,s,n);var r=new a.graphic.Rect(i),p=s.get("insideColor");a.graphic.setText(r.style,s,p),r.style.textFill=p;var c=new a.graphic.Group;c.add(o),c.add(r);var d=I(m,!0);return(A=new a.graphic.CompoundPath({shape:{paths:t},position:[b,f]})).setClipPath(d),r.setClipPath(A),c}(F)),this._data=l},dispose:function(){}})},GBKq:function(e,t,s){var a=s("iwBt"),i=s("3qyi");i.extendSeriesModel({type:"series.liquidFill",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var s=a(["value"],e.data),o=new i.List(s,this);return o.initData(e.data),o},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}})},Hb2s:function(e,t,s){var a=s("3qyi");s("GBKq"),s("EWQb"),a.registerVisual(a.util.curry(s("48E6"),"liquidFill"))},Ori0:function(e,t,s){var a=s("3qyi");function i(e,t,s,a){return 0===t?[[e+.5*s/Math.PI/2,a/2],[e+.5*s/Math.PI,a],[e+s/4,a]]:1===t?[[e+.5*s/Math.PI/2*(Math.PI-2),a],[e+.5*s/Math.PI/2*(Math.PI-1),a/2],[e+s/4,0]]:2===t?[[e+.5*s/Math.PI/2,-a/2],[e+.5*s/Math.PI,-a],[e+s/4,-a]]:[[e+.5*s/Math.PI/2*(Math.PI-2),-a],[e+.5*s/Math.PI/2*(Math.PI-1),-a/2],[e+s/4,0]]}e.exports=a.graphic.extendShape({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,t){null==t.radiusY&&(t.radiusY=t.radius);for(var s=Math.max(2*Math.ceil(2*t.radius/t.waveLength*4),8);t.phase<2*-Math.PI;)t.phase+=2*Math.PI;for(;t.phase>0;)t.phase-=2*Math.PI;var a=t.phase/Math.PI/2*t.waveLength,o=t.cx-t.radius+a-2*t.radius;e.moveTo(o,t.waterLevel);for(var n=0,r=0;r<s;++r){var l=r%4,u=i(r*t.waveLength/4,l,t.waveLength,t.amplitude);e.bezierCurveTo(u[0][0]+o,-u[0][1]+t.waterLevel,u[1][0]+o,-u[1][1]+t.waterLevel,u[2][0]+o,-u[2][1]+t.waterLevel),r===s-1&&(n=u[2][0])}t.inverse?(e.lineTo(n+o,t.cy-t.radiusY),e.lineTo(o,t.cy-t.radiusY),e.lineTo(o,t.waterLevel)):(e.lineTo(n+o,t.cy+t.radiusY),e.lineTo(o,t.cy+t.radiusY),e.lineTo(o,t.waterLevel)),e.closePath()}})},QZKG:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("g/bT");var a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"systemMonitoringPage"},[s("div",{staticClass:"v-line"},[s("h6",[e._v(e._s(e.$t("views.systemMonitoring.systemSource.title")))]),e._v(" "),s("div",{staticClass:"record-detail",on:{click:e.goRecordList}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("span",[e._v("记录详情")])]),e._v(" "),s("el-row",[s("el-col",{staticClass:"text-center",attrs:{span:8}},[s("div",{staticClass:"chart-title"},[e._v("CPU\n          "),s("span",{staticClass:"real-value"},[e._v(e._s(e.cpuUsedNum)+" Core")]),e._v(" /\n          "),s("span",{staticClass:"total-value"},[e._v(e._s(e.cpuAllNum)+" Core")])]),e._v(" "),s("div",{staticClass:"chart-sub-title"},[e._v("\n          "+e._s(e.$t("views.systemMonitoring.systemSource.assignedResource"))+":\n          "),s("span",[e._v(e._s(100*e.cpuAssigned)+"%")]),e._v("\n          "+e._s(e.$t("views.systemMonitoring.systemSource.unassigned")+e.$t("views.systemMonitoring.systemSource.resource"))+":\n          "),s("span",[e._v(e._s(e.cpuUnassigned)+"%")])]),e._v(" "),s("div",{staticClass:"chart-item"},[s("sedu-echarts",{attrs:{domId:"cpu",cname:e.cpuClass,option:e.cpuOption}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],staticClass:"label-box"},[s("img",{staticClass:"top-line",attrs:{src:e.mixinGetImage("views/global/","top_line.png"),alt:""}}),e._v(" "),s("div",{staticClass:"top-label"},[e._v("\n              "+e._s(e.$t("views.systemMonitoring.systemSource.unassigned"))+":\n              "),s("span",[e._v(e._s(e.cpuUnassigned)+"%")])]),e._v(" "),s("img",{staticClass:"bottom-line",attrs:{src:e.mixinGetImage("views/global/","bottom_line.png"),alt:""}}),e._v(" "),s("div",{staticClass:"bottom-label"},[s("div",[e._v(e._s(e.$t("views.systemMonitoring.personal.label"))+"\n                "),s("span",{staticClass:"link-text",on:{click:e.goPersonList}},[e._v(e._s(100*e.personalCpu)+"%")])]),e._v(" "),s("div",[e._v(e._s(e.$t("views.systemMonitoring.project.label"))+"\n                "),s("span",{staticClass:"link-text",on:{click:e.goProjectList}},[e._v(e._s(100*e.projectCpu)+"%")])]),e._v(" "),s("div",[e._v(e._s(e.$t("views.systemMonitoring.systemSource.unUsed"))+"\n                "),s("span",[e._v(e._s(100*e.cpuUnUsed)+"%")])])])])],1)]),e._v(" "),s("el-col",{staticClass:"text-center",attrs:{span:8}},[s("div",{staticClass:"chart-title"},[e._v(e._s(e.$t("views.systemMonitoring.systemSource.memory"))+"\n          "),s("span",{staticClass:"real-value"},[e._v(e._s(e.memoryUsedNum)+" G")]),e._v(" /\n          "),s("span",{staticClass:"total-value"},[e._v(e._s(e.memoryAllNum)+" G")])]),e._v(" "),s("div",{staticClass:"chart-sub-title"},[e._v("\n          "+e._s(e.$t("views.systemMonitoring.systemSource.assignedResource"))+":\n          "),s("span",[e._v(e._s(100*e.memoryAssigned)+"%")]),e._v("\n          "+e._s(e.$t("views.systemMonitoring.systemSource.unassigned")+e.$t("views.systemMonitoring.systemSource.resource"))+":\n          "),s("span",[e._v(e._s(e.memoryUnassigned)+"%")])]),e._v(" "),s("div",{staticClass:"chart-item"},[s("sedu-echarts",{attrs:{domId:"memory",cname:e.memoryClass,option:e.memoryOption}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],staticClass:"label-box"},[s("img",{staticClass:"top-line",attrs:{src:e.mixinGetImage("views/global/","top_line.png"),alt:""}}),e._v(" "),s("div",{staticClass:"top-label"},[e._v("\n              "+e._s(e.$t("views.systemMonitoring.systemSource.unassigned"))+":\n              "),s("span",[e._v(e._s(e.memoryUnassigned)+"%")])]),e._v(" "),s("img",{staticClass:"bottom-line",attrs:{src:e.mixinGetImage("views/global/","bottom_line.png"),alt:""}}),e._v(" "),s("div",{staticClass:"bottom-label"},[s("div",[e._v(e._s(e.$t("views.systemMonitoring.personal.label"))+"\n                "),s("span",{staticClass:"link-text",on:{click:e.goPersonList}},[e._v(e._s(100*e.personalMemory)+"%")])]),e._v(" "),s("div",[e._v(e._s(e.$t("views.systemMonitoring.project.label"))+"\n                "),s("span",{staticClass:"link-text",on:{click:e.goProjectList}},[e._v(e._s(100*e.projectMemory)+"%")])]),e._v(" "),s("div",[e._v(e._s(e.$t("views.systemMonitoring.systemSource.unUsed"))+"\n                "),s("span",[e._v(e._s(100*e.memoryUnUsed)+"%")])])])])],1)]),e._v(" "),s("el-col",{staticClass:"text-center",attrs:{span:8}},[s("div",{staticClass:"chart-title"},[e._v("GPU\n          "),s("span",{staticClass:"real-value"},[e._v(e._s(e.gpuUsedNum)+" 个")]),e._v(" /\n          "),s("span",{staticClass:"total-value"},[e._v(e._s(e.gpuAllNum)+" 个")])]),e._v(" "),s("div",{staticClass:"chart-sub-title"},[e._v("\n          "+e._s(e.$t("views.systemMonitoring.systemSource.assignedResource"))+":\n          "),s("span",[e._v(e._s(100*e.gpuAssigned)+"%")]),e._v("\n          "+e._s(e.$t("views.systemMonitoring.systemSource.unassigned")+e.$t("views.systemMonitoring.systemSource.resource"))+":\n          "),s("span",[e._v(e._s(e.gpuUnassigned)+"%")])]),e._v(" "),s("div",{staticClass:"chart-item"},[s("sedu-echarts",{attrs:{domId:"gpu",cname:e.memoryClass,option:e.gpuOption}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],staticClass:"label-box"},[s("img",{staticClass:"top-line",attrs:{src:e.mixinGetImage("views/global/","top_line.png"),alt:""}}),e._v(" "),s("div",{staticClass:"top-label"},[e._v("\n              "+e._s(e.$t("views.systemMonitoring.systemSource.unassigned"))+":\n              "),s("span",[e._v(e._s(e.gpuUnassigned)+"%")])]),e._v(" "),s("img",{staticClass:"bottom-line",attrs:{src:e.mixinGetImage("views/global/","bottom_line.png"),alt:""}}),e._v(" "),s("div",{staticClass:"bottom-label"},[s("div",[e._v(e._s(e.$t("views.systemMonitoring.personal.label"))+"\n                "),s("span",{staticClass:"link-text",on:{click:e.goPersonList}},[e._v(e._s(100*e.personalGpu)+"%")])]),e._v(" "),s("div",[e._v(e._s(e.$t("views.systemMonitoring.project.label"))+"\n                "),s("span",{staticClass:"link-text",on:{click:e.goProjectList}},[e._v(e._s(100*e.projectGpu)+"%")])]),e._v(" "),s("div",[e._v(e._s(e.$t("views.systemMonitoring.systemSource.unUsed"))+"\n                "),s("span",[e._v(e._s(100*e.gpuUnUsed)+"%")])])])])],1)])],1)],1),e._v(" "),s("div",{staticClass:"v-pie"},[s("el-row",[s("el-col",{staticClass:"chart-item",attrs:{span:12}},[s("h6",[e._v(e._s(e.$t("views.systemMonitoring.images.title")))]),e._v(" "),s("sedu-echarts",{attrs:{domId:"iamges",myStyle:e.pie_pro_sty,option:e.option5}})],1),e._v(" "),s("div",{staticClass:"middle-line"}),e._v(" "),s("el-col",{staticClass:"text-center",attrs:{span:12}},[s("h6",[e._v(e._s(e.$t("views.systemMonitoring.storages.title")))]),e._v(" "),s("sedu-echarts",{attrs:{domId:"storages",myStyle:e.pie_pro_sty,option:e.option6}})],1)],1)],1)])},staticRenderFns:[]},i=s("C7Lr")({name:"systemMonitoring",data:function(){return{cpuClass:"v-cpu",memoryClass:"v-memory",gpuClass:"v-gpu",cpuOption:{},memoryOption:{},gpuOption:{},option5:{},option6:{},cpuAllNum:0,cpuUsedNum:0,memoryUsedNum:0,memoryAllNum:0,gpuUsedNum:0,gpuAllNum:0,cpuUnUsed:0,cpuUnassigned:0,cpuAssigned:0,memoryUnUsed:0,memoryUnassigned:0,memoryAssigned:0,gpuUnUsed:0,gpuUnassigned:0,gpuAssigned:0,personalCpu:0,projectCpu:0,personalMemory:0,projectMemory:0,personalGpu:0,projectGpu:0,pie_pro_sty:"width:40vw;height:40vh;",hasData:!1}},methods:{goRecordList:function(){this.$router.push({name:"recordList",params:{userId:123}})},goPersonList:function(){this.$router.push({name:"personList"})},goProjectList:function(){this.$router.push({name:"projectList",params:{userId:123}})},chartInit:function(e){if(e){var t=this.$t("views.systemMonitoring.systemSource.assignedResource"),s=100*this.cpuAssigned+"%",a=100*this.memoryAssigned+"%",i=100*this.gpuAssigned+"%";this.cpuOption={series:[{type:"liquidFill",waveAnimation:!1,animationDuration:0,animationDurationUpdate:0,data:e.cpuData,center:["50%","46%"],radius:"80%",color:["#7CBDFE","#91C8FF","#BADCFF"],outline:{borderDistance:9,itemStyle:{borderWidth:6,borderColor:"#9ccdfe",shadowBlur:0}},itemStyle:{shadowBlur:0},backgroundStyle:{color:"#E3F7FF"},label:{normal:{position:["50%","80%"],formatter:function(e){return t+":"+s},insideColor:"#2E5199",fontSize:14}}}]},this.memoryOption={series:[{type:"liquidFill",waveAnimation:!1,animationDuration:0,animationDurationUpdate:0,data:e.memoryData,center:["50%","46%"],radius:"80%",color:["#6fd9bf","#7bebcf","#A1EEDA"],outline:{borderDistance:9,itemStyle:{borderWidth:6,borderColor:"#83DFC8",shadowBlur:0}},itemStyle:{shadowBlur:0},backgroundStyle:{color:"#E3F7FF"},label:{normal:{position:["50%","80%"],formatter:function(e){return t+":"+a},insideColor:"#2E5199",fontSize:14}}}]},this.gpuOption={series:[{type:"liquidFill",waveAnimation:!1,animationDuration:0,animationDurationUpdate:0,data:e.gpuData,center:["50%","46%"],radius:"80%",color:["#FFC182","#FFCE9C","#FCD5AF"],outline:{borderDistance:9,itemStyle:{borderWidth:6,borderColor:"#FFC182",shadowBlur:0}},itemStyle:{shadowBlur:0},backgroundStyle:{color:"#E3F7FF"},label:{normal:{position:["50%","80%"],formatter:function(e){return t+":"+i},insideColor:"#2E5199",fontSize:14}}}]}}},pieChartInit:function(e){if(e){var t=this.$t("views.systemMonitoring.images.title"),s=this.$t("views.systemMonitoring.storages.title"),a=this.$t("views.systemMonitoring.images.publicImage"),i=this.$t("views.systemMonitoring.images.personalImage"),o=this.$t("views.systemMonitoring.images.projectImage"),n=this.$t("views.systemMonitoring.storages.publicStorage"),r=this.$t("views.systemMonitoring.storages.personalStorage"),l=this.$t("views.systemMonitoring.storages.projectStorage");this.option5={title:{text:e.imagesCount.numAll,left:"center",top:"middle",textStyle:{lineHeight:50,fontSize:18,color:"#111"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {d}%"},legendHoverLink:!1,hoverAnimation:!1,series:[{name:t,type:"pie",radius:["50%","65%"],label:{normal:{formatter:"{b|{b} ：}{c} ",rich:{b:{fontSize:16,lineHeight:33}}}},labelLine:{normal:{show:!0}},data:[{value:e.imagesCount.publiceNum,name:a},{value:e.imagesCount.personalNum,name:i},{value:e.imagesCount.projectNum,name:o}]}],color:["#f06966","#83dfc8","#604a61"]},this.option6={title:{text:e.storageCount.allNumStr,left:"center",top:"middle",textStyle:{lineHeight:50,fontSize:18,color:"#111"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {d}%"},legendHoverLink:!1,hoverAnimation:!1,series:[{name:s,type:"pie",radius:["50%","65%"],label:{normal:{formatter:"{b|{b} ：}{c} ",rich:{b:{fontSize:16,lineHeight:33}}}},labelLine:{normal:{show:!0}},data:[{value:e.storageCount.publiceNum,name:n},{value:e.storageCount.personalNum,name:r},{value:e.storageCount.projectNum,name:l}]}],color:["#f7a31c","#2ba1e4","#00b285"]}}}},created:function(){var e=this,t={};this.$get("/system/hypervisor").then(function(s){var a=e.$t("views.systemMonitoring.images.numAllStr"),i=e.$t("views.systemMonitoring.images.ge"),o=a+"\n"+s.data.count_image_total+i;t.imagesCount={numAll:o,personalNum:s.data.my_image_count_total,projectNum:s.data.project_image_count_total,publiceNum:s.data.public_image_count_total};var n=e.$t("views.systemMonitoring.storages.nunAllStr")+"\n"+s.data.storage_count_total+i;t.storageCount={allNumStr:n,personalNum:s.data.my_storage_count_total,projectNum:s.data.project_storage_count_total,publiceNum:s.data.public_storage_count_total},e.pieChartInit(t)}),this.$get("/system/getsystemresources").then(function(t){var s=t.data;s&&(e.hasData=!0),e.cpuUsedNum=s.cpu_ram_info.cpu_cpu_used,e.cpuAllNum=s.cpu_ram_info.cpu_core_total,e.memoryUsedNum=(s.cpu_ram_info.mem_used-0).toFixed(2),e.memoryAllNum=(s.cpu_ram_info.mem_total-0).toFixed(2),e.gpuUsedNum=s.gpu.used,e.gpuAllNum=s.gpu.num_all,e.cpuAssigned=e.cpuAllNum?(e.cpuUsedNum/e.cpuAllNum).toFixed(2):0,e.memoryAssigned=e.memoryAllNum?(e.memoryUsedNum/e.memoryAllNum).toFixed(2):0,e.gpuAssigned=e.gpuAllNum?(e.gpuUsedNum/e.gpuAllNum).toFixed(2):0,e.cpuUnassigned=e.cpuAllNum?100*((e.cpuAllNum-e.cpuUsedNum)/e.cpuAllNum).toFixed(2):0,e.memoryUnassigned=e.memoryAllNum?100*((e.memoryAllNum-e.memoryUsedNum)/e.memoryAllNum).toFixed(2):0,e.gpuUnassigned=e.gpuAllNum?100*((e.gpuAllNum-e.gpuUsedNum)/e.gpuAllNum).toFixed(2):0,e.personalCpu=s.personal_ns_cpu_total?(e.cpuAssigned*(s.personal_ns_cpu_use/s.personal_ns_cpu_total)).toFixed(2):0,e.projectCpu=s.project_ns_cpu_total?(e.cpuAssigned*(s.project_ns_cpu_use/s.project_ns_cpu_total)).toFixed(2):0,e.cpuUnUsed=(e.cpuAssigned-e.personalCpu-e.projectCpu).toFixed(2),e.personalMemory=s.personal_ns_memory_total?(e.memoryAssigned*(s.personal_ns_memory_use/s.personal_ns_memory_total)).toFixed(2):0,e.projectMemory=s.project_ns_memory_total?(e.memoryAssigned*(s.project_ns_memory_use/s.project_ns_memory_total)).toFixed(2):0,e.memoryUnUsed=(e.memoryAssigned-e.personalMemory-e.projectMemory).toFixed(2),e.personalGpu=s.personal_ns_gpu_total?(e.gpuAssigned*(s.personal_ns_gpu_use/s.personal_ns_gpu_total)).toFixed(2):0,e.projectGpu=s.project_ns_gpu_total?(e.gpuAssigned*(s.project_ns_gpu_use/s.project_ns_gpu_total)).toFixed(2):0,e.gpuUnUsed=(e.gpuAssigned-e.personalGpu-e.projectGpu).toFixed(2),s.cpuData=[],s.memoryData=[],s.gpuData=[],(e.personalCpu>0||e.projectCpu>0||e.cpuUnUsed>0)&&(s.cpuData.push(e.personalCpu,e.projectCpu,e.cpuUnUsed),s.cpuData.sort(function(e,t){return t-e})),(e.personalMemory>0||e.projectMemory>0||e.memoryUnUsed>0)&&(s.memoryData.push(e.personalMemory,e.projectMemory,e.memoryUnUsed),s.memoryData.sort(function(e,t){return t-e})),(e.personalGpu>0||e.projectGpu>0||e.gpuUnUsed>0)&&(s.gpuData.push(e.personalGpu,e.projectGpu,e.gpuUnUsed),s.gpuData.sort(function(e,t){return t-e})),e.chartInit(s)})}},a,!1,null,null,null);t.default=i.exports},"g/bT":function(e,t,s){e.exports=s("Hb2s")}});