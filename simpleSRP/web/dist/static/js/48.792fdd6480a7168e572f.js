webpackJsonp([48],{"z/gS":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("ZLEe"),a=s.n(i),o=s("3cXf"),r=s.n(o),n=s("zsLt"),l=s.n(n),c=s("kfHR"),u=s.n(c),p=s("IHPB"),f=s.n(p),v=s("KxGM"),d=s("v46e"),h={data:function(){return{input:"",textarea:"",isLoading:!1,radio:0,dialogCode:!1,dialogFile:!1,active:"first",isFirst:!1,psTip:"",psShow:!0,workerTip:"",choose:"",workerShow:!0,isSecond:!1,caffe:{cpu:1,gpu:0,memory:4},tensorflow:{ps_node:{num:1,cpu:1,gpu:0,memory:4},work_node:{num:1,cpu:1,gpu:0,memory:4}},caffe_show:!1,tensorflow_show:!1,labelWidth:"150px",obj:{project_id:""},projectId:"",storage_id:{},storage_object_id:{},ruleForm:{name:"",operating:[],desc:"",engine:"tensorflow",version:"",params:"",caffeParams:"",caffeChoice:[{title:"训练数据路径",dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""},{title:"测试数据路径",dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""},{title:"网络层文件",dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""},{title:"模型保存路径",dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""}],choice:[{title:this.$t("views.trainingTask.codeDirectory"),dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""},{title:this.$t("views.trainingTask.trainingData"),dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""},{title:this.$t("views.trainingTask.startupFile"),dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""},{title:this.$t("views.trainingTask.trainingLog"),dialogCode:!1,isFirst:!1,isSecond:!1,type:1,input:""}]},createDevrules:{name:[{required:!0,validator:function(e,t,s){""===t?s(new Error("请输入名称")):Object(d.j)(t)?s():s(new Error("只能输入2-30位字母、数字、下划线"))},trigger:"blur"},{min:2,max:30,message:this.$t("views.development.youCan"),trigger:"blur"}],engine:[{required:!0,message:"请选择引擎类型",trigger:"change"}],params:[{required:!1,message:" ",trigger:"change"}],version:[{required:!0,message:"请选择版本信息",trigger:"change"}],desc:[{required:!1,validator:function(e,t,s){""===t?s():Object(d.d)(t)?s():s(new Error("不得包含特殊字符:<>:'\"/\\."))},trigger:"blur"}],node:[{required:!0,type:"number",message:"必须为数字值"}]},postData:{code_path:"",launch_script:"",dataset:"",model_path:""},postCaffe:{train_data_dir:"",proto_file:"",test_data_dir:"",snapshot_prefix:""},caffeParams:[],mark:0,tensorflowParams:[],storageUserOn:{}}},beforeRouteLeave:function(e,t,s){"partProjectDetails"===e.name&&void 0===e.query.partId?this.$router.push({name:"partProjectDetails",query:{partId:this.id}}):s()},created:function(){this.init(),this.$store.dispatch("getPracticeengine"),this.$store.dispatch("getPracticeengineversion"),this.projectId=this.obj.project_id=this.id=this.$route.query.partId,this.$store.dispatch("getprojectAttendConfig",this.obj),this.getPracticeparam(),this.choose=this.ruleForm.choice},watch:{STORE_THEME_LANG:{handler:function(e,t){"zh"===this.STORE_THEME_LANG&&(this.labelWidth="150px"),"en"===this.STORE_THEME_LANG&&(this.labelWidth="200px")}}},mounted:function(){"zh"===this.STORE_THEME_LANG&&(this.labelWidth="150px"),"en"===this.STORE_THEME_LANG&&(this.labelWidth="200px")},methods:{handleStorageUserOn:function(e){this.storageUserOn=e},init:function(){"tensorflow"===this.ruleForm.engine&&(this.tensorflow_show=!0,this.radio=0)},changeType:function(e){switch(e){case"tensorflow":this.caffe_show=!1,this.tensorflow_show=!0,this.$store.commit("changeVersion","tensorflow"),this.ruleForm.version="",this.radio=0,this.tip="",this.choose=this.ruleForm.choice,this.choose.forEach(function(e){e.input=""});break;case"caffe":this.caffe_show=!0,this.tensorflow_show=!1,this.$store.commit("changeVersion","caffe"),this.ruleForm.version="",this.radio=0,this.tip="",this.choose=this.ruleForm.caffeChoice,this.choose.forEach(function(e){e.input=""});break;default:this.caffe_show=!1,this.tensorflow_show=!0,this.ruleForm.version=""}},tensorflowBlur:function(e){var t=this.tensorflowParams,s=t[e].value;if(""===s)t[e].isShow=!1;else switch(e){case 3:if(!Object(d.b)(s,3))return t[e].isShow=!0,t[e].tip="请输入大于0小于1的小数",!1;t[e].isShow=!1;break;default:if(!Object(d.b)(s,0))return t[e].isShow=!0,t[e].tip="请输入正整数",!1;t[e].isShow=!1}this.tensorflowParams=[].concat(f()(t))},caffeBlur:function(e){console.log(e);var t=this.ruleForm.caffeParams,s=t[e].value;if(""===s)t[e].isShow=!1;else if(e!==t.length-1){switch(e){case 2:case 5:if(!Object(d.b)(s,1))return t[e].isShow=!0,t[e].tip="请输入实数",!1;t[e].isShow=!1;break;case 8:if(!Object(d.b)(s,4))return t[e].isShow=!0,t[e].tip="请输入正确的字符",!1;t[e].isShow=!1;break;case 7:if(!Object(d.b)(s,1))return t[e].isShow=!0,t[e].tip="请输入实数",!1;t[e].isShow=!1;break;case 9:if(!Object(d.b)(s,2))return t[e].isShow=!0,t[e].tip="请输入正实数",!1;t[e].isShow=!1;break;default:if(!Object(d.b)(s,0))return t[e].isShow=!0,t[e].tip="请输入正整数",!1;t[e].isShow=!1}t[e].isShow=!1}this.caffeParams=[].concat(f()(t))},psBlur:function(){var e=this.tensorflow.ps_node.num;this.nodeSitting(e,"psShow","psTip")},workerBlur:function(){var e=this.tensorflow.work_node.num;this.nodeSitting(e,"workerShow","workerTip")},nodeSitting:function(e,t,s){if(""===e)this[t]=!0,this[s]="输入不能为空";else{if(!Object(d.b)(e,0))return this[t]=!0,this[s]="请输入正整数",!1;this[t]=!1}},selectGpu:function(e){var t=this.ruleForm.caffeParams;t[t.length-1].value=0===e?"CPU":"GPU",this.ruleForm.caffeParams=[].concat(f()(t))},practicecreate:function(e){var t=this;this.$post("/practiceproject/practicecreate",e).then(function(e){t.isLoading=!1,200===e.code?(t.$message({message:e.message,type:"success"}),t.$router.go(-1)):t.$message({message:e.message,type:"error"})})},operatParams:function(){var e={keys:"",value:""};this.ruleForm.operating.push(e)},reduceAddress:function(e){this.ruleForm.operating.splice(e,1)},configure:function(e){this.$refs[e].resetFields(),this.tensorflow_show=!0,this.caffe_show=!1,this.tensorflowParams.forEach(function(e){e.value=""})},lastConfigure:function(){console.log("====")},paramsData:function(e){var t=[],s=[],i={};e.forEach(function(e,i){t.push(e.keys),s.push(e.value)});for(var a=0;a<t.length;a++)i[t[a]]=s[a];for(var o in i)""===o||0===i[o]?delete i[o]:i[o]=parseInt(i[o]);return i},paramsCaffe:function(e){var t={};return e.forEach(function(e,s){t[e.label]=e.value}),t},paramsTensorflow:function(e){var t={};return e.forEach(function(e,s){""!==e.value&&(t[e.label]=e.value)}),t},storageId:function(e){var t=[];for(var s in e)t.push(e[s]);return t},submitForm:function(e){var t=this;if("caffe"===this.ruleForm.engine)for(var s=0;s<this.caffeParams.length;s++){var i=this.caffeParams[s];if(""===i.value)return this.ruleForm.caffe="",!1;if(s!==this.caffeParams.length-1)switch(s){case 2:case 5:if(!Object(d.b)(i.value,1))return this.ruleForm.caffe="",!1;break;case 8:if(!Object(d.b)(i.value,4))return this.ruleForm.caffe="",!1;break;case 7:if(!Object(d.b)(i.value,1))return this.ruleForm.caffe="",!1;break;case 9:if(!Object(d.b)(i.value,2))return this.ruleForm.caffe="",!1;break;default:if(!Object(d.b)(i.value,0))return this.ruleForm.caffe="",!1}else this.ruleForm.caffe=1}else if("tensorflow"===this.ruleForm.engine){for(var a=0;a<this.tensorflowParams.length;a++){var o=this.tensorflowParams[a];if(""!==o.value)switch(a){case 3:if(!Object(d.b)(o.value,3))return!1;break;default:if(!Object(d.b)(o.value,0))return!1}}var n=this.tensorflow.ps_node.num;if(""===n)return!1;if(!Object(d.b)(n,0))return!1;var c=this.tensorflow.work_node.num;if(""===c)return!1;if(!Object(d.b)(c,0))return!1}this.$refs[e].validate(function(e){if(!e)return!1;var s=t.paramsTensorflow(t.tensorflowParams),i=t.paramsCaffe(t.ruleForm.caffeParams),a=t.storageId(t.storage_id),o=t.storageId(t.storage_object_id),n=u()(new l.a(a)),c=u()(new l.a(o)),p={"Practice[project_id]":t.obj.project_id,"Practice[name]":t.ruleForm.name,"Practice[engine]":t.ruleForm.engine,"Practice[describe]":t.ruleForm.desc,"Practice[engine_version]":t.ruleForm.version,storage_object_id:c,storage_id:n};"caffe"===t.ruleForm.engine?(p["Practice[mount_info]"]=t.postCaffe,p["Practice[param]"]=i,p.resource=t.caffe,p["Practice[is_visible]"]=0):"tensorflow"===t.ruleForm.engine&&(p["Practice[mount_info]"]=t.postData,p["Practice[param]"]=s,p.resource=t.tensorflow,p["Practice[is_visible]"]=t.radio),console.log(r()(p)),t.isLoading=!0,t.practicecreate(p)})},chocieBtn:function(e){this.mark=2===e?0:1;this.$store.commit("projectpath",{data:[]});var t=this.choose;switch(t.forEach(function(e,t){e.dialogCode=!1,e.isFirst=!1,e.isSecond=!1,e.type=1}),t[e].dialogCode=!0,e){case 0:t[e].isFirst=!0,t[e].isSecond=!1,t[e].type=1;break;case 1:t[e].isFirst=!0,t[e].isSecond=!0,t[e].type=1;break;case 2:t[e].isFirst=!0,t[e].isSecond=!1,t[e].type=2;break;case 3:t[e].isFirst=!0,t[e].isSecond=!1,t[e].type=1}this.choose=[].concat(f()(t))},chocieCaffe:function(e){this.mark=2===e?0:1;this.$store.commit("projectpath",{data:[]});var t=this.choose;switch(t.forEach(function(e,t){e.dialogCode=!1,e.isFirst=!1,e.isSecond=!1,e.type=1}),t[e].dialogCode=!0,e){case 0:case 1:t[e].isFirst=!0,t[e].isSecond=!0,t[e].type=1;break;case 2:t[e].isFirst=!0,t[e].isSecond=!1,t[e].type=2;break;case 3:t[e].isFirst=!0,t[e].isSecond=!1,t[e].type=1}this.choose=[].concat(f()(t))},handleClose:function(e){e()},dialogSure:function(e){var t=this.$store.state.projectSpace.projectpath;if(""===t&&0===this.mark)this.$message({message:"请选择文件",type:"warning"});else if(""===t&&1===this.mark)this.$message({message:"请选择目录",type:"warning"});else if("caffe"===this.ruleForm.engine){var s=this.ruleForm.caffeChoice,i=this.choiceCaffe(s,e,t,"caffe");this.ruleForm.choice=[].concat(f()(i))}else if("tensorflow"===this.ruleForm.engine){var a=this.ruleForm.choice,o=this.choiceCaffe(a,e,t,"tensorflow");this.ruleForm.choice=[].concat(f()(o))}},choiceCaffe:function(e,t,s,i){var o=a()(s)[0],r=s.type,n=this.storageUserOn;switch(this.postCaffe.keyFileName=n.keyname+".keytab",this.postCaffe.keyFile=n.key_file,this.postData.keyFileName=n.keyname+".keytab",this.postData.keyFile=n.key_file,t){case 0:if(1===r)e[t].input=o,this.storage_id.first=s.storage_id,this.storage_object_id.first=s.storage_object_id,"caffe"===i?this.postCaffe.train_data_dir=s[o]:"tensorflow"===i&&(this.postData.code_path=s[o]);else if(2===r)return this.$message({message:"请选择目录",type:"warning"}),e;break;case 1:if(1===r)e[t].input=o,this.storage_id.second=s.storage_id,this.storage_object_id.senond=s.storage_object_id,"caffe"===i?this.postCaffe.test_data_dir=s[o]:"tensorflow"===i&&(this.postData.dataset=s[o]);else if(2===r)return this.$message({message:"请选择目录",type:"warning"}),e;break;case 2:if(1===r)return this.$message({message:"请选择文件",type:"warning"}),e;2===r&&(this.storage_id.third=s.storage_id,this.storage_object_id.third=s.storage_object_id,e[t].input=o,"caffe"===i?this.postCaffe.proto_file=s[o]:"tensorflow"===i&&(this.postData.launch_script=s[o]));break;case 3:if(1===r)e[t].input=o,this.storage_id.fourth=s.storage_id,this.storage_object_id.fourth=s.storage_object_id,"caffe"===i?this.postCaffe.snapshot_prefix=s[o]:"tensorflow"===i&&(this.postData.model_path=s[o]);else if(2===r)return this.$message({message:"请选择目录",type:"warning"}),e}return e.forEach(function(e,t){e.dialogCode=!1,e.isFirst=!1,e.isSecond=!1,e.type=1}),e},dialogColse:function(){if("caffe"===this.ruleForm.engine){var e=this.ruleForm.caffeChoice;e.forEach(function(e,t){e.dialogCode=!1,e.isFirst=!1,e.isSecond=!1,e.type=1}),this.ruleForm.choice=[].concat(f()(e))}else if("tensorflow"===this.ruleForm.engine){var t=this.ruleForm.choice;t.forEach(function(e,t){e.dialogCode=!1,e.isFirst=!1,e.isSecond=!1,e.type=1}),this.ruleForm.choice=[].concat(f()(t))}},resetForm:function(e){this.$refs[e].resetFields(),this.$router.go(-1)},runningParams:function(e){var t=[];for(var s in e){var i={label:s,value:e[s],isShow:!1,tip:""};t.push(i)}return t},getPracticeparam:function(){var e=this;this.$post("/practiceproject/practiceparam").then(function(t){if(200===t.code){var s=t.data.caffe_param;e.ruleForm.caffeParams=e.runningParams(s);var i=t.data.tensorflow_param;e.tensorflowParams=e.runningParams(i)}else e.$message({message:t.message,type:"error"})})}},components:{ViewsCodeDirectory:v.a},computed:{practiceengine:function(){return this.$store.getters.postPracticeengine},projectconfig:function(){return this.$store.getters.postAttendConfig},version:function(){return this.$store.getters.postVersion},projectpath:function(){return this.$store.getters.postprojectpath}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"views-personal"},[s("el-form",{ref:"ruleForm",staticClass:"views-icon-ruleForm",attrs:{model:e.ruleForm,rules:e.createDevrules,"label-width":e.labelWidth}},[s("div",{staticClass:"views-header-inf"},[s("span",[e._v(" "+e._s(e.$t("views.trainingTask.taskInformation")))])]),e._v(" "),s("div",{staticClass:"views-develop-inf"},[s("div",{staticClass:"views-task-input"},[s("el-form-item",{attrs:{label:e.$t("views.trainingTask.taskName"),prop:"name"}},[s("el-input",{attrs:{placeholder:e.$t("views.development.youCan"),minlength:"2",maxlength:"30",clearable:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),s("div",{staticClass:"views-task-image"},[s("el-form-item",{attrs:{label:e.$t("views.development.remarks"),prop:"desc"}},[s("el-input",{attrs:{type:"textarea",rows:6,placeholder:e.$t("views.development.pleaseContents"),maxlength:"200"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1)],1)]),e._v(" "),s("div",{staticClass:"views-header-inf"},[s("span",[e._v(e._s(e.$t("views.modelPrediction.parameterConfig")))])]),e._v(" "),s("div",{staticClass:"views-develop-inf views-model-image"},[e._e(),e._v(" "),s("div",{staticClass:"views-develop-resources"},[s("el-form-item",{attrs:{label:e.$t("views.trainingTask.engineType"),prop:"engine"}},[s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},on:{change:e.changeType},model:{value:e.ruleForm.engine,callback:function(t){e.$set(e.ruleForm,"engine",t)},expression:"ruleForm.engine"}},e._l(e.practiceengine,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("views.trainingTask.versionInf"),prop:"version"}},[s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.ruleForm.version,callback:function(t){e.$set(e.ruleForm,"version",t)},expression:"ruleForm.version "}},e._l(e.version,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.tensorflow_show,expression:"tensorflow_show"}],staticClass:"views-task-show"},[s("span",{staticClass:"views-task-radio "},[e._v(e._s(e.$t("views.trainingTask.whetherVisualization")))]),e._v(" "),s("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[s("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("views.trainingTask.yes")))]),e._v(" "),s("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("views.trainingTask.no")))])],1)],1)],1),e._v(" "),e._l(e.ruleForm.caffeChoice,function(t,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.caffe_show,expression:"caffe_show"}],key:t.title,staticClass:"views-develop-image"},[s("el-form-item",{attrs:{label:t.title,rules:{required:!0,message:"选择不能为空",trigger:"change"},prop:"choice."+i+".input"}},[s("div",{staticClass:"views-develop-choice"},[s("el-input",{attrs:{readonly:!0},model:{value:t.input,callback:function(s){e.$set(t,"input",s)},expression:"item.input"}}),e._v(" "),s("el-button",{staticClass:"view-btn-medium",attrs:{type:"primary "},on:{click:function(t){return e.chocieCaffe(i)}}},[e._v("\n              "+e._s(e.$t("views.button.choice"))+"\n            ")])],1)])],1)}),e._v(" "),e._l(e.ruleForm.choice,function(t,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.tensorflow_show,expression:"tensorflow_show"}],key:i,staticClass:"views-develop-image"},[s("el-form-item",{attrs:{label:t.title,rules:{required:!0,message:"选择不能为空",trigger:"change"},prop:"choice."+i+".input"}},[s("div",{staticClass:"views-develop-choice"},[s("el-input",{attrs:{readonly:!0},model:{value:t.input,callback:function(s){e.$set(t,"input",s)},expression:"item.input"}}),e._v(" "),s("el-button",{staticClass:"view-btn-medium",attrs:{type:"primary "},on:{click:function(t){return e.chocieBtn(i)}}},[e._v("\n              "+e._s(e.$t("views.button.choice"))+"\n            ")])],1)])],1)}),e._v(" "),e.caffe_show?s("div",{staticClass:"views-develop-image  views-caffe-required"},[s("el-form-item",{attrs:{label:e.$t("views.trainingTask.operatParameters"),prop:"params"}},[s("div",{staticClass:"views-develop-params"},e._l(e.ruleForm.caffeParams,function(t,i){return s("div",{key:t.label,staticClass:"views-develop-caffe"},[s("el-input",{attrs:{disabled:""},model:{value:t.label,callback:function(s){e.$set(t,"label",s)},expression:"item.label"}}),e._v(" "),s("b",{staticClass:"views-task-sign"},[e._v("=")]),e._v(" "),s("el-form-item",{attrs:{"label-width":"0",rules:{required:!0,message:"输入不能为空",trigger:"change"},prop:"caffeParams."+i+".value"}},[i===e.ruleForm.caffeParams.length-1?s("el-input",{attrs:{disabled:""},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}}):s("el-input",{on:{input:function(t){return e.caffeBlur(i)}},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"item.isShow"}],staticClass:"views-task-tips"},[e._v(e._s(t.tip))])],1)],1)}),0)])],1):e._e(),e._v(" "),e.tensorflow_show?s("div",{staticClass:"views-develop-image"},[s("el-form-item",{attrs:{label:e.$t("views.trainingTask.operatParameters"),prop:"params"}},[s("div",{staticClass:"views-develop-params"},e._l(e.tensorflowParams,function(t,i){return s("div",{key:t.label,staticClass:"views-develop-caffe"},[s("el-input",{attrs:{disabled:""},model:{value:t.label,callback:function(s){e.$set(t,"label",s)},expression:"item.label"}}),e._v(" "),s("b",{staticClass:"views-task-sign"},[e._v("=")]),e._v(" "),s("el-input",{on:{input:function(t){return e.tensorflowBlur(i)}},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"item.isShow"}],staticClass:"views-task-tips"},[e._v(e._s(t.tip))])],1)}),0)])],1):e._e(),e._v(" "),s("div",{staticClass:"views-develop-image views-task-mb",staticStyle:{display:"none"}},[s("el-form-item",{attrs:{label:e.$t("views.trainingTask.operatParameters"),prop:"params"}},[e._l(e.ruleForm.operating,function(t,i){return s("el-form-item",{key:i,attrs:{rules:{required:!0,message:"输入不能为空",trigger:"change"},prop:"operating."+i+".keys","label-width":"0"}},[s("div",{staticClass:"views-develop-choice"},[s("el-input",{model:{value:t.keys,callback:function(s){e.$set(t,"keys",s)},expression:"item.keys"}}),e._v(" "),s("b",{staticClass:"views-task-sign"},[e._v("=")]),e._v(" "),s("el-input",{model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}}),e._v(" "),s("span",{staticClass:"views-btn-reduce ",on:{click:function(t){return e.reduceAddress(i)}}},[e._v("—")])],1)])}),e._v(" "),s("div",{staticClass:"views-develop-choice"},[s("el-button",{staticClass:"view-btn-medium views-btn-choice ",attrs:{type:"primary "},on:{click:e.operatParams}},[e._v(e._s(e.$t("views.trainingTask.increaseParameters")))])],1)],2)],1)],2),e._v(" "),s("div",{staticClass:"views-header-inf"},[s("span",[e._v(e._s(e.$t("views.trainingTask.nodeConfig")))])]),e._v(" "),s("div",{staticClass:"views-task-type "},[s("div",{staticClass:"views-task-right views-task-border "},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.caffe_show,expression:"caffe_show"}],staticClass:"views-task-sitting views-task-sitting-mg "},[s("span",{staticClass:"views-task-cpu "},[e._v("CPU")]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.caffe.cpu,callback:function(t){e.$set(e.caffe,"cpu",t)},expression:"caffe.cpu"}},e._l(e.projectconfig.cpu_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" 核\n          "),s("span",{staticClass:"views-task-cpu "},[e._v("GPU")]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},on:{change:e.selectGpu},model:{value:e.caffe.gpu,callback:function(t){e.$set(e.caffe,"gpu",t)},expression:"caffe.gpu"}},e._l(e.projectconfig.gpu_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" 个\n          "),s("span",{staticClass:"views-task-cpu "},[e._v(e._s(e.$t("views.projectContent.memory")))]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.caffe.memory,callback:function(t){e.$set(e.caffe,"memory",t)},expression:"caffe.memory"}},e._l(e.projectconfig.memory_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v("\n           G\n        ")],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.tensorflow_show,expression:"tensorflow_show"}],staticClass:"views-task-tensorflow"},[s("div",{staticClass:"views-task-node "},[s("span",{staticClass:"views-task-node-span "},[e._v(e._s(e.$t("views.trainingTask.psNode")))]),e._v(" "),s("div",{staticClass:"views-task-sitting views-task-select "},[s("span",{staticClass:"views-task-cpu"},[e._v(e._s(e.$t("views.projectContent.unit")))]),e._v(" "),s("el-input",{staticClass:"views-node-input",attrs:{placeholder:e.$t("views.development.pleaseChoose"),clearable:""},on:{blur:e.psBlur},model:{value:e.tensorflow.ps_node.num,callback:function(t){e.$set(e.tensorflow.ps_node,"num",t)},expression:"tensorflow.ps_node.num"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.psShow,expression:"psShow"}],staticClass:"views-task-tips"},[e._v(e._s(e.psTip))]),e._v(" "),s("span",{staticClass:"views-task-cpu "},[e._v("CPU")]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.tensorflow.ps_node.cpu,callback:function(t){e.$set(e.tensorflow.ps_node,"cpu",t)},expression:"tensorflow.ps_node.cpu"}},e._l(e.projectconfig.cpu_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" 核\n              "),e._v(" "),s("span",{staticClass:"views-task-cpu "},[e._v("GPU")]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.tensorflow.ps_node.gpu,callback:function(t){e.$set(e.tensorflow.ps_node,"gpu",t)},expression:"tensorflow.ps_node.gpu"}},e._l(e.projectconfig.gpu_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" 个\n              "),e._v(" "),s("span",{staticClass:"views-task-cpu "},[e._v(e._s(e.$t("views.projectContent.memory")))]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.tensorflow.ps_node.memory,callback:function(t){e.$set(e.tensorflow.ps_node,"memory",t)},expression:"tensorflow.ps_node.memory"}},e._l(e.projectconfig.memory_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v("\n               G\n            ")],1),e._v(" "),s("div",{staticClass:"views-task-node views-task-bottom "},[s("span",{staticClass:"views-task-node-span "},[e._v(e._s(e.$t("views.trainingTask.workerNode")))]),e._v(" "),s("div",{staticClass:"views-task-sitting views-task-select"},[s("span",{staticClass:"views-task-cpu "},[e._v(e._s(e.$t("views.projectContent.unit")))]),e._v(" "),s("el-input",{staticClass:"views-node-input",attrs:{placeholder:e.$t("views.development.pleaseChoose"),clearable:""},on:{blur:e.workerBlur},model:{value:e.tensorflow.work_node.num,callback:function(t){e.$set(e.tensorflow.work_node,"num",t)},expression:"tensorflow.work_node.num"}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.workerShow,expression:"workerShow"}],staticClass:"views-task-tips"},[e._v(e._s(e.workerTip))]),e._v(" "),s("span",{staticClass:"views-task-cpu"},[e._v("CPU")]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.tensorflow.work_node.cpu,callback:function(t){e.$set(e.tensorflow.work_node,"cpu",t)},expression:"tensorflow.work_node.cpu"}},e._l(e.projectconfig.cpu_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" 核\n                "),e._v(" "),s("span",{staticClass:"views-task-cpu "},[e._v("GPU")]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.tensorflow.work_node.gpu,callback:function(t){e.$set(e.tensorflow.work_node,"gpu",t)},expression:"tensorflow.work_node.gpu"}},e._l(e.projectconfig.gpu_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" 个\n                "),e._v(" "),s("span",{staticClass:"views-task-cpu "},[e._v(e._s(e.$t("views.projectContent.memory")))]),e._v(" "),s("el-select",{attrs:{placeholder:e.$t("views.development.pleaseChoose")},model:{value:e.tensorflow.work_node.memory,callback:function(t){e.$set(e.tensorflow.work_node,"memory",t)},expression:"tensorflow.work_node.memory"}},e._l(e.projectconfig.memory_config,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v("\n                 G\n              ")],1)])])])])]),e._v(" "),s("div",{staticClass:"views-develop-btn "},[s("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v(" "+e._s(e.$t("views.button.cancel")))]),e._v(" "),s("el-button",{staticClass:"view-btn-big",attrs:{type:"primary ",loading:e.isLoading},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(e._s(e.$t("views.button.run")))])],1)]),e._v(" "),e._l(e.choose,function(t,i){return s("div",{key:i},[s("el-dialog",{staticClass:"small",attrs:{title:t.title,visible:t.dialogCode,"before-close":e.handleClose},on:{"update:visible":function(s){return e.$set(t,"dialogCode",s)}}},[s("div",{staticClass:"content"},[s("views-code-directory",{attrs:{isFirst:t.isFirst,isSecond:t.isSecond,type:t.type,projectId:e.projectId},on:{storageUserOn:function(t){return e.handleStorageUserOn(t)}}})],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"cancel",on:{click:e.dialogColse}},[e._v(e._s(e.$t("views.button.cancel")))]),e._v(" "),s("el-button",{staticClass:"primary",attrs:{type:"primary"},on:{click:function(t){return e.dialogSure(i)}}},[e._v(e._s(e.$t("views.button.sure")))])],1)])],1)})],2)},staticRenderFns:[]},w=s("C7Lr")(h,m,!1,null,null,null);t.default=w.exports}});