webpackJsonp([72],{afeU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("IHPB"),n=a.n(i),s=a("4YfN"),l=a.n(s),o=a("aA9S"),c=a.n(o),r={name:"downloafData",data:function(){return{file_list:[],pageSize:10,tableData:{msg:[],loading:!0,Pagination:{page:1,total_count:5},sel:{name:""}}}},created:function(){this.getActiveTab("tableData")},methods:{changePage:function(){this.getActiveTab("tableData")},getActiveTab:function(t){var e=this,a={};void 0!==this[t].Pagination&&(a=c()({},this[t].Pagination,{count:this.pageSize})),void 0!==this[t].sel&&(a=c()({},a,this[t].sel)),this.$get("/helpfile/index",l()({},a)).then(function(t){e.file_list=[].concat(n()(t.data.helpfile_list)),e.pageSize=t.data.per_page||10,e.tableData.Pagination.total_count=t.data.total_count})},doSearch:function(t){void 0!==this[t].Pagination&&(this[t].Pagination.page=1),this.getActiveTab(t)},doRest:function(t){this.tableData.sel.name="",this.getActiveTab(t)},viewFile:function(t){var e=window.Simple.php+"/v1/helpfile/downloadhelpfile?access-token="+JSON.parse(sessionStorage.getItem("userinfo")).access_token+"&help_file_id="+t.id,a=document.createElement("a");a.href=e,document.body.appendChild(a),setTimeout(function(t){a.click(),document.body.removeChild(a)},10)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"download-data"},[a("div",{staticClass:"help-search"},[a("el-input",{attrs:{placeholder:t.$t("views.help.enter")},model:{value:t.tableData.sel.name,callback:function(e){t.$set(t.tableData.sel,"name",e)},expression:"tableData.sel.name"}}),t._v(" "),a("el-button",{staticClass:"btn dark auto btn-search",on:{click:function(e){return t.doRest("tableData")}}},[t._v(t._s(t.$t("views.button.reset")))]),t._v(" "),a("el-button",{staticClass:"btn dark auto btn-search",on:{click:function(e){return t.doSearch("tableData")}}},[t._v(t._s(t.$t("views.help.download.btnSelect")))])],1),t._v(" "),t.file_list.length>0?a("div",{staticClass:"data-list"},[a("ul",t._l(t.file_list,function(e,i){return a("li",{key:i},[a("div",{staticClass:"list-info"},[a("span",{staticClass:" iconfont icon-pdf views-icon-PDF"}),t._v(" "),a("div",{staticClass:"list-cont"},[a("h3",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),a("p",[a("em",[t._v(t._s(t.$t("views.help.download.abstracts"))+"ï¼š")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:e.describe,placement:"bottom-start"}},[a("span",[t._v(t._s(e.describe))])])],1)])]),t._v(" "),a("el-button",{staticClass:"btn dark mid",attrs:{id:e.files_id},on:{click:function(a){return t.viewFile(e)}}},[t._v(t._s(t.$t("views.help.download.btnDownload")))])],1)}),0),t._v(" "),a("div",[a("el-pagination",{staticClass:"tab-page",attrs:{layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.tableData.Pagination.page,total:t.tableData.Pagination.total_count},on:{"update:currentPage":function(e){return t.$set(t.tableData.Pagination,"page",e)},"update:current-page":function(e){return t.$set(t.tableData.Pagination,"page",e)},"current-change":function(e){return t.changePage()}}})],1)]):a("div",{attrs:{slot:"empty"},slot:"empty"},[a("div",{staticClass:"views-empty"},[a("span",{staticClass:"views-empty-table"}),t._v(" "),a("p",{staticClass:"views-empty-text"},[t._v(t._s(t.$t("views.table.noData")))])])])])},staticRenderFns:[]},u=a("C7Lr")(r,d,!1,null,null,null);e.default=u.exports}});