webpackJsonp([72],{DsS7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("IHPB"),s=a.n(i),l=a("aA9S"),n=a.n(l),o={name:"namespaces",data:function(){return{linTabData:"",linUrl:"",pageSize:10,tableData1:{msg:[],url:"/cluster/namespacelist",loading:!0,Pagination:{page:1,total_count:5},sel:{name:"",status:"",type:"",sort:"-created_at",user_name:"",full_time:"",start_time:"",end_time:""}},pickerOptions:{shortcuts:[{text:this.$t("views.clusterMonitoring.recentOneWeek"),onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:this.$t("views.clusterMonitoring.recentOneMonth"),onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:this.$t("views.clusterMonitoring.recentThreeMonth"),onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},space_type:[],space_status:[]}},methods:{getActiveTab:function(t){this.linTabData=t,this.linUrl=this[t].url,this.initMsg()},sortTable:function(t){"descending"===t.order?this.tableData1.sel.sort="-"+t.prop:this.tableData1.sel.sort=t.prop,this.initMsg()},clearSearch:function(t){for(var e in this[t].sel)this[t].sel[e]="";void 0!==this[t].Pagination&&(this[t].Pagination.page=1),this.getActiveTab(t)},doSearch:function(t){void 0!==this[t].Pagination&&(this[t].Pagination.page=1),this.getActiveTab(t)},changePage:function(t){this.getActiveTab(t)},objToArr:function(t){var e=[];if(t)for(var a in t)e.push(t[a]);return e},initMsg:function(){var t=this;this[this.linTabData].loading=!0;var e={};void 0!==this[this.linTabData].Pagination&&(e=n()({},this[this.linTabData].Pagination,{count:this.pageSize})),void 0!==this[this.linTabData].sel&&(""===this[this.linTabData].sel.full_time||null===this[this.linTabData].sel.full_time?(this[this.linTabData].sel.start_time="",this[this.linTabData].sel.end_time=""):(this[this.linTabData].sel.start_time=this[this.linTabData].sel.full_time[0]+" 00:00:00",this[this.linTabData].sel.end_time=this[this.linTabData].sel.full_time[1]+" 23:59:59"),e=n()({},e,this[this.linTabData].sel)),this.$axios.get(this[this.linTabData].url,{params:e}).then(function(e){var a=t.objToArr(e.data.data.list);t[t.linTabData].msg=[].concat(s()(a)),void 0!==t[t.linTabData].Pagination&&(t[t.linTabData].Pagination.total_count=e.data.data.total_count),t.pageSize=e.data.data.per_page||10,t[t.linTabData].loading=!1})}},created:function(){this.getActiveTab("tableData1"),this.space_status=[{label:"Active",value:"Active"},{label:"Terminating",value:"terminating"}],this.space_type=[{label:this.$t("views.clusterMonitoring.personalSpace"),value:1},{label:this.$t("views.clusterMonitoring.projectSpace"),value:2}]}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"views-cluster-monitoring-namespaces"},[a("div",{staticClass:"tab-select"},[a("div",[a("span",{staticClass:"tab-select-title"},[t._v(t._s(t.$t("views.clusterMonitoring.name")))]),t._v(" "),a("el-input",{attrs:{placeholder:t.$t("views.clusterMonitoring.enter")},model:{value:t.tableData1.sel.name,callback:function(e){t.$set(t.tableData1.sel,"name",e)},expression:"tableData1.sel.name"}})],1),t._v(" "),a("div",[a("span",{staticClass:"tab-select-title"},[t._v(t._s(t.$t("views.clusterMonitoring.creationTime")))]),t._v(" "),a("el-date-picker",{attrs:{type:"daterange",align:"right","value-format":"yyyy-MM-dd","unlink-panels":"","range-separator":"-","start-placeholder":t.$t("views.clusterMonitoring.beginTime"),"end-placeholder":t.$t("views.clusterMonitoring.endTime"),"picker-options":t.pickerOptions},model:{value:t.tableData1.sel.full_time,callback:function(e){t.$set(t.tableData1.sel,"full_time",e)},expression:"tableData1.sel.full_time"}})],1),t._v(" "),a("div",[a("span",{staticClass:"tab-select-title"},[t._v(t._s(t.$t("views.clusterMonitoring.spaceType")))]),t._v(" "),a("el-select",{attrs:{placeholder:t.$t("views.clusterMonitoring.chose")},model:{value:t.tableData1.sel.type,callback:function(e){t.$set(t.tableData1.sel,"type",e)},expression:"tableData1.sel.type"}},t._l(t.space_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",[a("span",{staticClass:"tab-select-title"},[t._v(t._s(t.$t("views.clusterMonitoring.user")))]),t._v(" "),a("el-input",{attrs:{placeholder:t.$t("views.clusterMonitoring.enter")},model:{value:t.tableData1.sel.user_name,callback:function(e){t.$set(t.tableData1.sel,"user_name",e)},expression:"tableData1.sel.user_name"}})],1),t._v(" "),a("div",[a("span",{staticClass:"tab-select-title"},[t._v(t._s(t.$t("views.clusterMonitoring.status")))]),t._v(" "),a("el-select",{attrs:{placeholder:t.$t("views.clusterMonitoring.chose")},model:{value:t.tableData1.sel.status,callback:function(e){t.$set(t.tableData1.sel,"status",e)},expression:"tableData1.sel.status"}},t._l(t.space_status,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",[a("el-button",{staticClass:"btn light small",on:{click:function(e){return t.clearSearch("tableData1")}}},[t._v(t._s(t.$t("views.clusterMonitoring.reset")))]),t._v(" "),a("el-button",{staticClass:"btn light small",on:{click:function(e){return t.doSearch("tableData1")}}},[t._v(t._s(t.$t("views.clusterMonitoring.select")))])],1)]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableData1.loading,expression:"tableData1.loading"}],staticClass:"tab-content",attrs:{data:t.tableData1.msg,border:""},on:{"sort-change":t.sortTable}},[a("el-table-column",{attrs:{type:"index",label:t.$t("views.clusterMonitoring.serialNumber"),align:"center",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("views.clusterMonitoring.namespaceName"),sortable:"custom",prop:"namespace_name","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"link",attrs:{to:{name:"namespacesDetail",query:{name:e.row.namespace_name}}}},[t._v(t._s(e.row.namespace_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":"",label:t.$t("views.clusterMonitoring.project")}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",align:"center",width:"120",label:t.$t("views.clusterMonitoring.spaceType")}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name","show-overflow-tooltip":"",label:t.$t("views.clusterMonitoring.user")}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",align:"center",width:"140",label:t.$t("views.clusterMonitoring.status")}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",align:"center",sortable:"custom",width:"180",label:t.$t("views.clusterMonitoring.creationTime")}}),t._v(" "),a("div",{attrs:{slot:"empty"},slot:"empty"},[a("div",{staticClass:"views-empty"},[a("span",{staticClass:"views-empty-table"}),t._v(" "),a("p",{staticClass:"views-empty-text"},[t._v(t._s(t.$t("views.table.noData")))])])])],1),t._v(" "),a("el-pagination",{staticClass:"tab-page",attrs:{layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.tableData1.Pagination.page,total:t.tableData1.Pagination.total_count},on:{"update:currentPage":function(e){return t.$set(t.tableData1.Pagination,"page",e)},"update:current-page":function(e){return t.$set(t.tableData1.Pagination,"page",e)},"current-change":function(e){return t.changePage("tableData1")}}})],1)},staticRenderFns:[]},c=a("C7Lr")(o,r,!1,null,null,null);e.default=c.exports}});